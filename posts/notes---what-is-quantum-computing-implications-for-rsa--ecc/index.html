<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Notes | What is Quantum Computing? Implications for RSA &amp; ECC | Sidereus Hu</title>
<meta name="keywords" content="">
<meta name="description" content="
### ❓What is Quantum Computing?
Quantum computing harnesses the quantum states of microscopic particles—such as photons, electrons, or atoms—to process information. It is fundamentally based on several key principles: superposition, entanglement, coherence, and the no-cloning theorem.
As early as 1982, Professor Richard Feynman famously stated:

&ldquo;Nature isn’t classical, damn it, and if you want to make a simulation of nature, you’d better make it quantum mechanical.&rdquo;
This insight laid the conceptual foundation for building computational tools using quantum systems themselves, rather than relying on classical approximations of quantum behavior.">
<meta name="author" content="Sidereus Hu">
<link rel="canonical" href="https://sidereushu.github.io/posts/notes---what-is-quantum-computing-implications-for-rsa--ecc/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.93f625d739f1d6a5c6f20c146bc6a8d26b233492b34b2220c54b12fd46a04ded.css" integrity="sha256-k/Yl1znx1qXG8gwUa8ao0msjNJKzSyIgxUsS/UagTe0=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://sidereushu.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://sidereushu.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://sidereushu.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://sidereushu.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://sidereushu.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="https://sidereushu.github.io/posts/notes---what-is-quantum-computing-implications-for-rsa--ecc/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
  
<script>
  MathJax = {
    tex: {
      inlineMath: [['\\(', '\\)'], ['$', '$']],
      displayMath: [['$$', '$$'], ['\\[', '\\]']],
      processEscapes: true,
      processEnvironments: true
    },
    options: {
      skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
    }
  };
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
 


<meta property="og:url" content="https://sidereushu.github.io/posts/notes---what-is-quantum-computing-implications-for-rsa--ecc/">
  <meta property="og:site_name" content="Sidereus Hu">
  <meta property="og:title" content="Notes | What is Quantum Computing? Implications for RSA & ECC">
  <meta property="og:description" content="
### ❓What is Quantum Computing? Quantum computing harnesses the quantum states of microscopic particles—such as photons, electrons, or atoms—to process information. It is fundamentally based on several key principles: superposition, entanglement, coherence, and the no-cloning theorem.
As early as 1982, Professor Richard Feynman famously stated:
“Nature isn’t classical, damn it, and if you want to make a simulation of nature, you’d better make it quantum mechanical.”
This insight laid the conceptual foundation for building computational tools using quantum systems themselves, rather than relying on classical approximations of quantum behavior.">
  <meta property="og:locale" content="zh-cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-06-02T16:57:25+08:00">
    <meta property="article:modified_time" content="2025-06-02T16:57:25+08:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Notes | What is Quantum Computing? Implications for RSA &amp; ECC">
<meta name="twitter:description" content="
### ❓What is Quantum Computing?
Quantum computing harnesses the quantum states of microscopic particles—such as photons, electrons, or atoms—to process information. It is fundamentally based on several key principles: superposition, entanglement, coherence, and the no-cloning theorem.
As early as 1982, Professor Richard Feynman famously stated:

&ldquo;Nature isn’t classical, damn it, and if you want to make a simulation of nature, you’d better make it quantum mechanical.&rdquo;
This insight laid the conceptual foundation for building computational tools using quantum systems themselves, rather than relying on classical approximations of quantum behavior.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://sidereushu.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Notes | What is Quantum Computing? Implications for RSA \u0026 ECC",
      "item": "https://sidereushu.github.io/posts/notes---what-is-quantum-computing-implications-for-rsa--ecc/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Notes | What is Quantum Computing? Implications for RSA \u0026 ECC",
  "name": "Notes | What is Quantum Computing? Implications for RSA \u0026 ECC",
  "description": "\n### ❓What is Quantum Computing? Quantum computing harnesses the quantum states of microscopic particles—such as photons, electrons, or atoms—to process information. It is fundamentally based on several key principles: superposition, entanglement, coherence, and the no-cloning theorem.\nAs early as 1982, Professor Richard Feynman famously stated:\n\u0026ldquo;Nature isn’t classical, damn it, and if you want to make a simulation of nature, you’d better make it quantum mechanical.\u0026rdquo;\nThis insight laid the conceptual foundation for building computational tools using quantum systems themselves, rather than relying on classical approximations of quantum behavior.\n",
  "keywords": [
    
  ],
  "articleBody": "\n### ❓What is Quantum Computing? Quantum computing harnesses the quantum states of microscopic particles—such as photons, electrons, or atoms—to process information. It is fundamentally based on several key principles: superposition, entanglement, coherence, and the no-cloning theorem.\nAs early as 1982, Professor Richard Feynman famously stated:\n“Nature isn’t classical, damn it, and if you want to make a simulation of nature, you’d better make it quantum mechanical.”\nThis insight laid the conceptual foundation for building computational tools using quantum systems themselves, rather than relying on classical approximations of quantum behavior.\n![[screenshot-Feynman.png]]\n### Why Classical Computers Are Not Enough Many fundamental systems in nature do not follow classical physics but are governed by quantum mechanics. Therefore, if we want to “simulate nature,” classical computation is not sufficient — we must use quantum systems themselves to build computational tools.\nMore specifically, simulating quantum systems with classical computers faces exponential difficulty. A quantum system composed of $n$ particles requires $2^n$ complex numbers to describe its state, which quickly exceeds the processing capability of classical machines. Furthermore, particles in a quantum system are often not independent — they form complex correlations known as quantum entanglement.\nQuantum computing, on the other hand, leverages the superposition of quantum states to perform parallel computation. For example, a 4-qubit quantum register can represent all 16 values from 0 to 15 simultaneously, and any operation on the register acts on all 16 values at once.\nThis is why Feynman proposed a groundbreaking idea: instead of simulating quantum systems with classical computers, we should use quantum systems themselves to compute. His insight was remarkably accurate — as we now know, there are computations that can only be carried out through quantum experiments and are beyond the reach of traditional computers.\n### What Does Quantum Computing Mean for Mainstream Cryptosystems Like RSA and ECC? In 1994, Peter Shor proposed a quantum algorithm—Shor’s Algorithm—that can break mainstream cryptosystems such as RSA and ECC, drawing widespread attention. The foundation of Shor’s Algorithm is its ability to perform fast Fourier transforms (FFT) on state vectors of exponential size, making it easier to identify the period of a function.\nQuantum computing leverages the superposition effect of quantum states, allowing parallel computation across all possible states. For example, Schrödinger’s cat can be simultaneously ‘alive’ and ‘dead’—a superposition of two states. If there are 100 cats, each in a superposition of ‘alive’ and ‘dead’ there are ($2^{100}$) possible states. Each state has its own amplitude, positive or negative, and quantum computing can manipulate this exponentially large vector of states simultaneously.\nOn the surface, this exponential parallelism might seem to allow brute-force solutions to any computationally hard problem. However, the output of a quantum computation is itself a superposition, making it difficult to extract a definitive answer.\nCurrently, only Shor’s Algorithm can use quantum Fourier transforms to efficiently extract the period of a function, thereby solving the integer factorization and discrete logarithm problems upon which modern public-key cryptosystems RSA and ECC are based. For other hard problems that cannot be reduced to period finding, no polynomial-time quantum algorithms are known yet.\nHow Close Are We to Practical Quantum Computers? Yes and no. To break a 1024-bit RSA key, a universal quantum computer with millions of qubits would be needed—far beyond our current manufacturing capabilities (the largest quantum computers today have only a few hundred qubits):\nIn 2017, IBM introduced the world’s first 16-qubit quantum computer. The latest fault-tolerant universal quantum machines, such as Google’s Willow chip (105 qubits by the end of 2024), now achieve error correction threshold capabilities. The Oxford team has also created single-qubit operations with gate error rates as low as 0.000015%. Developing public-key cryptographic algorithms that can resist quantum attacks (post-quantum cryptography) has become an urgent task. To address this, the U.S. National Institute of Standards and Technology (NIST) launched the Post-Quantum Cryptography (PQC) standardization project back in 2016. After years of evaluation, the leading quantum-resistant public-key algorithms—such as CRYSTALS-Kyber, Dilithium, and Falcon—are now essentially standardized and are set to become the new benchmarks for federal and enterprise security infrastructure.\n### D-Wave’s Progress The Canadian quantum computing company D-Wave has long provided quantum annealers, which are well-suited for solving optimization problems, rather than problems like period-finding as required by Shor’s algorithm.\nIn 2025, D-Wave released its Advantage2 system, featuring over 4,400+ qubits and a 20-node connectivity topology. It is currently offering cloud-based services to clients such as Mastercard, NTT, and the Jülich Supercomputing Centre.\nMeanwhile, D-Wave’s team published a paper in Science claiming “quantum advantage” for the first time: in simulating complex magnetic systems, their machine outperformed the world’s top classical supercomputers by what they claim would be millions of years.\nAlthough this result has sparked debates over classical simulators (such as MPS and t-VMC), it still suggests that quantum annealing is showing practical value in certain scientific and engineering domains.\nD-Wave has built and sold several quantum computers; however, these machines cannot run Shor’s algorithm and therefore do not pose a direct threat to cryptographic schemes based on factoring or discrete logarithms.\nStrictly speaking, D-Wave builds quantum annealers, which are machines that can only run quantum annealing algorithms. Their fundamental working principle differs from that of universal quantum computers, which rely on quantum superposition to achieve powerful computational capabilities. In contrast, quantum annealers rely on quantum tunneling to simulate the annealing process.\nCurrently, there is research underway that attempts to transform integer factorization into an annealing-compatible problem and solve it using D-Wave machines — but so far, it has only managed to factor integers up to 90 bits.\n### Emerging Track: Topological Quantum Computing and Fault-Tolerance February 2025: Microsoft launched its first Majorana-based topological quantum processor, Majorana 1, featuring highly stable topological qubits and aiming for million-qubit scalability.\nMay 2025: Quantinuum announced that its H2 system had achieved a record-breaking quantum volume $2^{23}=8388608$, a key metric for assessing a system’s practical computational power.\nJune 2025: Oxford, Google’s Willow, and other teams continued advancing toward fault-tolerant quantum computing by optimizing single-qubit gate fidelities and improving two-qubit error correction schemes.\n",
  "wordCount" : "1004",
  "inLanguage": "zh",
  "datePublished": "2025-06-02T16:57:25+08:00",
  "dateModified": "2025-06-02T16:57:25+08:00",
  "author":{
    "@type": "Person",
    "name": "Sidereus Hu"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://sidereushu.github.io/posts/notes---what-is-quantum-computing-implications-for-rsa--ecc/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Sidereus Hu",
    "logo": {
      "@type": "ImageObject",
      "url": "https://sidereushu.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://sidereushu.github.io/" accesskey="h" title="Sidereus Hu (Alt + H)">Sidereus Hu</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://sidereushu.github.io/posts/" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
            <li>
                <a href="https://sidereushu.github.io/about/" title="About">
                    <span>About</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Notes | What is Quantum Computing? Implications for RSA &amp; ECC
    </h1>
    <div class="post-meta"><span title='2025-06-02 16:57:25 +0800 CST'>2025-06-02</span>&nbsp;·&nbsp;Sidereus Hu

</div>
  </header> 
  <div class="post-content"><br>
### ❓What is Quantum Computing?
<p>Quantum computing harnesses the quantum states of microscopic particles—such as photons, electrons, or atoms—to process information. It is fundamentally based on several key principles: <strong>superposition</strong>, <strong>entanglement</strong>, <strong>coherence</strong>, and the <strong>no-cloning theorem</strong>.</p>
<p>As early as <strong>1982</strong>, <strong>Professor Richard Feynman</strong> famously stated:</p>
<blockquote>
<p><em>&ldquo;Nature isn’t classical, damn it, and if you want to make a simulation of nature, you’d better make it quantum mechanical.&rdquo;</em></p></blockquote>
<p>This insight laid the conceptual foundation for building computational tools using quantum systems themselves, rather than relying on classical approximations of quantum behavior.</p>
<p>![[screenshot-Feynman.png]]</p>
<br>
### Why Classical Computers Are Not Enough
<p><span style="color:grey;">Many fundamental systems in nature do not follow classical physics but are governed by quantum mechanics.</span> <strong>Therefore, if we want to “simulate nature,” classical computation is not sufficient — we must use quantum systems themselves to build computational tools.</strong></p>
<p><span style="color:grey;">More specifically, simulating quantum systems with classical computers faces exponential difficulty. A quantum system composed of $n$ particles requires $2^n$ complex numbers to describe its state, which quickly exceeds the processing capability of classical machines.</span> Furthermore, particles in a quantum system are often not independent — they form complex correlations known as <strong>quantum entanglement</strong>.</p>
<p>Quantum computing, on the other hand, leverages the superposition of quantum states to perform parallel computation. <span style="color:grey;">For example, a 4-qubit quantum register can represent all 16 values from 0 to 15 simultaneously, and any operation on the register acts on all 16 values at once.</span></p>
<p>This is why Feynman proposed a groundbreaking idea: <span style="color:red;">instead of simulating quantum systems with classical computers, we should use quantum systems themselves to compute.</span> His insight was remarkably accurate — as we now know, there are computations that can only be carried out through quantum experiments and are beyond the reach of traditional computers.</p>
<br>
### What Does Quantum Computing Mean for Mainstream Cryptosystems Like RSA and ECC?
<p>In 1994, Peter Shor proposed a quantum algorithm—<strong>Shor&rsquo;s Algorithm</strong>—that can break mainstream cryptosystems such as RSA and ECC, drawing widespread attention. <span style="color:red;">The foundation of Shor&rsquo;s Algorithm is its ability to perform fast Fourier transforms (FFT) on state vectors of exponential size, making it easier to identify the period of a function.</span></p>
<p>Quantum computing leverages the superposition effect of quantum states, allowing parallel computation across all possible states. For example, Schrödinger’s cat can be simultaneously <strong>‘alive’</strong> and <strong>‘dead’</strong>—a superposition of two states. If there are 100 cats, each in a superposition of <strong>‘alive’</strong> and <strong>‘dead’</strong> there are ($2^{100}$) possible states. Each state has its own amplitude, positive or negative, and quantum computing can manipulate this exponentially large vector of states simultaneously.</p>
<p>On the surface, this exponential parallelism might seem to allow brute-force solutions to any computationally hard problem. <u>However, the output of a quantum computation is itself a superposition, making it difficult to extract a definitive answer.</u></p>
<p>Currently, only Shor’s Algorithm can use quantum Fourier transforms to efficiently extract the period of a function, thereby solving the integer factorization and discrete logarithm problems upon which modern public-key cryptosystems RSA and ECC are based. <strong>For other hard problems that cannot be reduced to period finding, no polynomial-time quantum algorithms are known yet.</strong></p>
<br>
<h3 id="how-close-are-we-to-practical-quantum-computers"><strong>How Close Are We to Practical Quantum Computers?</strong><a hidden class="anchor" aria-hidden="true" href="#how-close-are-we-to-practical-quantum-computers">#</a></h3>
<p>Yes and no. To break a 1024-bit RSA key, a universal quantum computer with millions of qubits would be needed—far beyond our current manufacturing capabilities (the largest quantum computers today have only a few hundred qubits):</p>
<ul>
<li>In 2017, IBM introduced the world’s first 16-qubit quantum computer.</li>
<li>The latest fault-tolerant universal quantum machines, such as Google’s Willow chip (105 qubits by the end of 2024), now achieve error correction threshold capabilities.</li>
<li>The Oxford team has also created single-qubit operations with gate error rates as low as 0.000015%.</li>
</ul>
<p>Developing public-key cryptographic algorithms that can resist quantum attacks (post-quantum cryptography) has become an urgent task. <strong>To address this, the U.S. National Institute of Standards and Technology (NIST) launched the Post-Quantum Cryptography (PQC) standardization project back in 2016.</strong> After years of evaluation, the leading quantum-resistant public-key algorithms—such as CRYSTALS-Kyber, Dilithium, and Falcon—are now essentially standardized and are set to become the new benchmarks for federal and enterprise security infrastructure.</p>
<br>
### D-Wave’s Progress
<p>The Canadian quantum computing company <strong>D-Wave</strong> has long provided <strong>quantum annealers</strong>, which are well-suited for solving <strong>optimization problems</strong>, rather than problems like <strong>period-finding</strong> as required by <strong>Shor’s algorithm</strong>.</p>
<p>In <strong>2025</strong>, D-Wave released its <strong>Advantage2</strong> system, featuring <strong>over 4,400+ qubits</strong> and a <strong>20-node connectivity topology</strong>. It is currently offering cloud-based services to clients such as <strong>Mastercard</strong>, <strong>NTT</strong>, and the <strong>Jülich Supercomputing Centre</strong>.</p>
<p>Meanwhile, D-Wave’s team published a paper in <em>Science</em> claiming <strong>“quantum advantage”</strong> for the first time: in simulating complex magnetic systems, their machine outperformed the world’s top classical supercomputers by what they claim would be <strong>millions of years</strong>.</p>
<p>Although this result has sparked debates over classical simulators (such as <strong>MPS</strong> and <strong>t-VMC</strong>), it still suggests that <strong>quantum annealing</strong> is showing <strong>practical value</strong> in certain scientific and engineering domains.</p>
<p>D-Wave has built and sold several quantum computers; however, these machines <strong>cannot run Shor’s algorithm</strong> and therefore <strong>do not pose a direct threat to cryptographic schemes based on factoring or discrete logarithms</strong>.</p>
<p>Strictly speaking, D-Wave builds <strong>quantum annealers</strong>, which are machines that can <strong>only run quantum annealing algorithms</strong>. Their fundamental working principle differs from that of <strong>universal quantum computers</strong>, which rely on quantum superposition to achieve powerful computational capabilities. In contrast, quantum annealers rely on <strong>quantum tunneling</strong> to simulate the annealing process.</p>
<p>Currently, there is research underway that attempts to transform <strong>integer factorization</strong> into an <strong>annealing-compatible problem</strong> and solve it using D-Wave machines — but so far, it has only managed to factor <strong>integers up to 90 bits</strong>.</p>
<br>
### Emerging Track: Topological Quantum Computing and Fault-Tolerance
<ul>
<li>
<p><strong>February 2025</strong>: <strong>Microsoft</strong> launched its first <strong>Majorana-based topological quantum processor</strong>, <em>Majorana 1</em>, featuring highly stable topological qubits and aiming for <strong>million-qubit scalability</strong>.</p>
</li>
<li>
<p><strong>May 2025</strong>: <strong>Quantinuum</strong> announced that its <strong>H2 system</strong> had achieved a record-breaking <strong>quantum volume</strong> $2^{23}=8388608$, a key metric for assessing a system’s practical computational power.</p>
</li>
<li>
<p><strong>June 2025</strong>: <strong>Oxford</strong>, <strong>Google’s Willow</strong>, and other teams continued advancing toward fault-tolerant quantum computing by optimizing <strong>single-qubit gate fidelities</strong> and improving <strong>two-qubit error correction schemes</strong>.</p>
</li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://sidereushu.github.io/">Sidereus Hu</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = '复制';

        function copyingDone() {
            copybutton.innerHTML = '已复制！';
            setTimeout(() => {
                copybutton.innerHTML = '复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
